schema: '2.0'
stages:
  download_dataset:
    cmd: uv run python -m text_classification_example.download_dataset 
      --dataset_name kunishou/J-ResearchCorpus --output_filepath 
      data/raw/dataset.parquet --mlflow_run_name pipeline
    deps:
    - path: text_classification_example/__init__.py
      hash: md5
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
    - path: text_classification_example/download_dataset.py
      hash: md5
      md5: 4e2d30db48604a991674ce34c5b66d4a
      size: 1884
    outs:
    - path: data/raw/dataset.parquet
      hash: md5
      md5: e08e48410042003244793e25c83c908d
      size: 37955183
  prepare_dataset:
    cmd: uv run python -m text_classification_example.prepare_dataset 
      --input_filepath data/raw/dataset.parquet --output_train_filepath 
      data/interim/dataset_train.parquet --output_valid_filepath 
      data/interim/dataset_valid.parquet --output_test_filepath 
      data/interim/dataset_test.parquet
    deps:
    - path: data/raw/dataset.parquet
      hash: md5
      md5: e08e48410042003244793e25c83c908d
      size: 37955183
    - path: text_classification_example/prepare_dataset.py
      hash: md5
      md5: 1ffea4c89edfa83cda211f2552e01d74
      size: 6612
    outs:
    - path: data/interim/dataset_test.parquet
      hash: md5
      md5: a5a5da347f82b414e0f5bc61d112d0f9
      size: 3448
    - path: data/interim/dataset_train.parquet
      hash: md5
      md5: 2a678b1e1f343155c79e55b632aa9cd3
      size: 23958
    - path: data/interim/dataset_valid.parquet
      hash: md5
      md5: a5a5da347f82b414e0f5bc61d112d0f9
      size: 3448
