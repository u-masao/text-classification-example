schema: '2.0'
stages:
  download_dataset:
    cmd: uv run python -m text_classification_example.download_dataset 
      --dataset_name kunishou/J-ResearchCorpus --output_filepath 
      data/raw/dataset.parquet --mlflow_run_name pipeline
    deps:
    - path: text_classification_example/__init__.py
      hash: md5
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
    - path: text_classification_example/download_dataset.py
      hash: md5
      md5: 4e2d30db48604a991674ce34c5b66d4a
      size: 1884
    outs:
    - path: data/raw/dataset.parquet
      hash: md5
      md5: e08e48410042003244793e25c83c908d
      size: 37955183
  prepare_dataset:
    cmd: uv run python -m text_classification_example.prepare_dataset 
      --input_filepath data/raw/dataset.parquet --output_train_filepath 
      data/interim/dataset_train.parquet --output_valid_filepath 
      data/interim/dataset_valid.parquet --output_test_filepath 
      data/interim/dataset_test.parquet
    deps:
    - path: data/raw/dataset.parquet
      hash: md5
      md5: e08e48410042003244793e25c83c908d
      size: 37955183
    - path: text_classification_example/prepare_dataset.py
      hash: md5
      md5: a2daf0fba70d3e0ff000f165611c59f2
      size: 6533
    outs:
    - path: data/interim/dataset_test.parquet
      hash: md5
      md5: 2d68d3d922c4535cd76d5e3afa307705
      size: 3041
    - path: data/interim/dataset_train.parquet
      hash: md5
      md5: 7e39f21c07486f3233620e4ea9e8110d
      size: 1070320
    - path: data/interim/dataset_valid.parquet
      hash: md5
      md5: 2d68d3d922c4535cd76d5e3afa307705
      size: 3041
